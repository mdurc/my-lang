extern exit, string_length, print_string, print_char
extern print_newline, print_uint, print_int
extern read_char, read_word, parse_uint
extern parse_int, string_equals, string_copy
extern malloc, free, clrscr

default rel
global _start
section .text
_start:
	push rbp
	mov rbp, rsp
	push rbx ; saving callee-saved register
	push r12 ; saving callee-saved register
	push r13 ; saving callee-saved register
	push r14 ; saving callee-saved register
	push r15 ; saving callee-saved register
	mov DWORD[global_vars + 4], 0
	mov r10, 3
	mov DWORD[global_vars + 8], r10d
	mov r11, 5
	mov DWORD[global_vars + 12], r11d
	mov r12, 10
	mov QWORD[global_vars + 20], r12
	mov r13, LC0
	mov QWORD[global_vars + 28], r13
	mov r14, 3
	mov QWORD[global_vars + 36], r14
	mov r15, 2
	mov DWORD[global_vars + 40], r15d
	mov rbx, 13
	mov DWORD[global_vars + 4], ebx
	pop r15 ; restoring callee-saved register
	pop r14 ; restoring callee-saved register
	pop r13 ; restoring callee-saved register
	pop r12 ; restoring callee-saved register
	pop rbx ; restoring callee-saved register
	mov rsp, rbp ; restore stack
	pop rbp
	xor rdi, rdi
	call exit

section .data
LC0:
	db "hello", 0
section .bss
	global_vars resb 48
